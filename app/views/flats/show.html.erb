<div class="flat-container">
  <div class="flat-image">
    <%= cl_image_tag @flat.photo, height: 200, width: 300, crop: :fill %>
  </div>
  <div class="flat-details">
      <div class="flat-title">
        <p><strong><%=@flat.title.capitalize%></strong></p>
        <p class ="flat-description"><%=@flat.description%></p>
      </div>
      <div class="flat-address">
        <br>
        <br>
        <p>Address: <%= @flat.address %> | Rooms: <%= @flat.number_of_rooms %></p>
      </div>
  </div>
  <div class="flat-price">
      <h6>Price: </h6>
      <p>â‚¬<%=@flat.price%></p>
  </div>
</div>

<% if !params[:format].nil? %>
<%= link_to "Back to the search", flats_path(query:{address: params[:format]}), class:"btn btn-primary" %>
<% end  %>
<p></p>

<% if @flat.user != current_user %>
<%= link_to "Add an appointment", new_flat_appointment_path(params[:id]), class:"btn btn-primary" %>
<p></p>
<% end %>

<% if @flat.user == current_user %>
<%= link_to "See appointments", flat_appointments_path(@flat.id), class:"btn btn-primary" %>
<% end %>

<div class="container">
  <div class="form-wrapper" style="width: 400px; margin: 0 auto;">
    <h2>Flatpickr Demo</h2>

    <%= simple_form_for :search, method: "get" do |f| %>
      <%= f.input :starts_at, as: :string, required: false, input_html: {class: "datepicker"} %>
      <%= f.input :ends_at, as: :string, required: false, input_html: {class: "datepicker"} %>
      <%= f.button :submit, "Go", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
